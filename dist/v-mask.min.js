!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueMask={})}(this,function(e){"use strict";var t=function(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)},n=function(e){return e instanceof HTMLInputElement?e:e.querySelector("input")||e},a="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase(),r=a&&a.indexOf("edge/")>0,i=a&&a.indexOf("android")>0,u=a&&/chrome\/\d+/.test(a)&&!r;function o(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.value,r=e.dataset,o=r.previousValue,c=void 0===o?"":o,s=r.mask;(n||a&&a!==c&&a.length>c.length)&&(e.value=function(e,t){if(!t)return e;var n=/^([^#ANX]+)/;1==+e.length&&n.test(t)&&(e=n.exec(t)[0]+e);for(var a="",r=0,i=0;i<t.length;i+=1){var u=t.charAt(i);switch(u){case"#":case"A":case"?":case"N":case"X":break;default:e=e.replace(u,"")}}for(var o=0,c=1;c&&o<t.length;o+=1){var s=e.charAt(o-r),d=t.charAt(o);if(!s)return a;switch(d){case"#":/\d/.test(s)?a+=s:c=0;break;case"A":/[a-z]/i.test(s)?a+=s:c=0;break;case"N":/[a-z0-9]/i.test(s)?a+=s:c=0;break;case"?":r+=1;break;case"X":a+=s;break;default:a+=d,s&&s!==d&&(e=" ".concat(e))}}return a}(a,s),i&&u?setTimeout(function(){return t(e,"input")},0):t(e,"input")),e.dataset.previousValue=a}function c(e,t){e.dataset.mask=t}var s={bind:function(e,t){var a=t.value;c(e=n(e),a),o(e)},componentUpdated:function(e,t){var a=t.value,r=t.oldValue;e=n(e);var i=a!==r;i&&c(e,a),o(e,i)}},d=function(e){e.directive("mask",s)};e.VueMaskDirective=s,e.VueMaskPlugin=d,e.default=d,Object.defineProperty(e,"__esModule",{value:!0})});
